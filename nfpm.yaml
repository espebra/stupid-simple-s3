name: sss
arch: ${ARCH}
platform: linux
version: ${VERSION}
maintainer: Espen Braastad
description: A minimal S3-compatible object storage service
vendor: espebra
homepage: https://github.com/espebra/stupid-simple-s3
license: BSD-2-Clause

contents:
  - src: ./bin/stupid-simple-s3-linux-${ARCH}
    dst: /usr/bin/stupid-simple-s3

  - src: ./packaging/stupid-simple-s3.service
    dst: /lib/systemd/system/stupid-simple-s3.service

  - src: ./packaging/config.yaml
    dst: /etc/sss/config.yaml
    type: config|noreplace

scripts:
  postinstall: ./packaging/postinstall.sh

overrides:
  deb:
    depends:
      - systemd
  rpm:
    depends:
      - systemd
